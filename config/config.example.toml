# Swictation Configuration
# Copy this to ~/.config/swictation/config.toml to customize.
# All values shown here are the defaults.

# Unix socket path for IPC communication
socket_path = "/run/user/1000/swictation.sock"  # or /tmp/swictation.sock

# Path to Silero VAD ONNX model
vad_model_path = "~/.local/share/swictation/models/silero-vad/silero_vad.onnx"

# VAD minimum silence duration (seconds)
# How long to wait after you stop speaking before processing the text.
# - 0.5 = Fast response, may cut off sentences
# - 0.8 = Balanced (default, natural pause length)
# - 2.0 = Slower but captures more complete thoughts
vad_min_silence = 0.8

# VAD minimum speech duration (seconds)
# Minimum length of speech to process (filters out very short sounds)
vad_min_speech = 0.25

# VAD maximum speech duration (seconds)
# Maximum continuous speech length before forcing a split
vad_max_speech = 30.0

# VAD threshold
# IMPORTANT: This is NOT the old ONNX threshold (0.001-0.005)!
# Current implementation uses a different scale.
# - 0.25 = Default (optimized for real-time transcription)
# - Lower values = more sensitive (may trigger on background noise)
# - Higher values = less sensitive (may miss quiet speech)
vad_threshold = 0.25

# STT model selection
# Options:
#   "auto"      - Automatic selection based on available VRAM (default)
#   "0.6b-cpu"  - 0.6B model on CPU (slowest, no GPU required)
#   "0.6b-gpu"  - 0.6B model on GPU (fast, ~2GB VRAM)
#   "1.1b-gpu"  - 1.1B model on GPU (best quality, ~4GB VRAM)
stt_model_override = "auto"

# Path to 0.6B model directory (sherpa-rs)
stt_0_6b_model_path = "~/.local/share/swictation/models/sherpa-onnx-nemo-parakeet-tdt-0.6b-v3-onnx"

# Path to 1.1B INT8 model directory (ONNX Runtime)
stt_1_1b_model_path = "~/.local/share/swictation/models/parakeet-tdt-1.1b-onnx"

# Number of threads for ONNX Runtime (null = auto-detect)
num_threads = 4

# Audio device index (null = default device)
# Use `arecord -l` to list available devices
audio_device_index = null

# Hotkey configuration
[hotkeys]
# Toggle recording on/off
# Default: Super+Shift+D (Windows/Super key + Shift + D for "Dictation")
toggle = "Super+Shift+D"

# Push-to-talk (hold to record, release to stop)
# Default: Super+Space (Windows/Super key + Space)
push_to_talk = "Super+Space"
