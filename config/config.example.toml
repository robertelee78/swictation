# Swictation Configuration
# This is an example config showing all available options.
# Copy this to ~/.config/swictation/config.toml to customize.

[vad]
# Voice Activity Detection threshold
#
# IMPORTANT: Silero VAD ONNX model uses much lower thresholds than PyTorch!
# Valid range for ONNX: 0.0005 to 0.01 (NOT 0.0 to 1.0 like PyTorch)
#
# The ONNX model outputs probabilities ~100-200x lower than PyTorch JIT.
# DO NOT use PyTorch thresholds (0.5) - it will never detect speech!
#
# - 0.001 = Most sensitive (catches quiet speech, may have false positives)
# - 0.003 = Balanced (recommended default for ONNX)
# - 0.005 = Conservative (fewer false positives, may miss quiet speech)
#
# Tuning guide for ONNX:
# - If missing soft speech or quiet words: Lower to 0.001-0.002
# - If triggering on background noise: Raise to 0.004-0.005
# - Never go above 0.01 - speech will not be detected
#
# See rust-crates/swictation-vad/ONNX_THRESHOLD_GUIDE.md for details
#
threshold = 0.003

# Silence duration threshold (seconds)
#
# How long to wait after you stop speaking before processing the text.
# This is the "pause" you experience before text appears.
# Valid range: 0.3 to 10.0
#
# - 0.3 = Minimum (very fast response, may cut off sentences)
# - 2.0 = Balanced (recommended default, natural pause length)
# - 3.0 = Slower but captures more complete thoughts
#
# Tuning guide:
# - If sentences getting cut off mid-thought: Increase to 2.5-3.0
# - If waiting too long for text to appear: Decrease to 1.0-1.5
# - For rapid-fire dictation: Try 0.5-1.0
#
silence_duration = 0.8

[metrics]
# Performance metrics tracking
enabled = true
database_path = "~/.local/share/swictation/metrics.db"
show_realtime_feedback = true
typing_baseline_wpm = 40
store_transcription_text = false  # Privacy-first: don't store full text

[metrics.warnings]
# Performance warning thresholds
enabled = true
high_latency_threshold_ms = 1000  # Warn if segment latency > 1000ms
gpu_memory_threshold_percent = 80  # Warn if GPU memory > 80%
degradation_multiplier = 1.5  # Warn if latency increases by 50%
accuracy_spike_multiplier = 3.0  # Warn if corrections spike 3x

[metrics.cleanup]
# Automatic database maintenance
auto_cleanup_enabled = true
max_segment_age_days = 90  # Delete segments older than 90 days
warn_db_size_mb = 100  # Warn if database exceeds 100MB
